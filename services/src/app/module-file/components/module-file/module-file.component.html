<div class="container">
    <div>
        <ng-container *ngIf="viewAll">
            <!-- <div class="row justify-content-between header">
                <div class="col-sm-6">
                    <ng-container *ngTemplateOutlet="title; context: {$implicit: moduleName }"></ng-container>
                </div>
                <div class="col-sm-6 text-right buttons">
                    <ng-container *ngTemplateOutlet="addButton;"></ng-container>
                    <ng-container *ngTemplateOutlet="activateButton;"></ng-container>
                    <ng-container *ngTemplateOutlet="backButton;"></ng-container>

                </div>
            </div> -->
            <app-module-header [titleWithUserRole]="titleWithUserRole" [moduleName]="moduleName"
                [buttons]="{showAddButton:buttonsArray.showAddButton,showActivateButton:buttonsArray.showActivateButton}"
                (addButtonClicked)="onAddClick()" (activateButtonClicked)="onActivateClick()"
                (backButtonClicked)="back()"></app-module-header>
        </ng-container>

        <ng-container *ngIf="viewAdd || viewOne || viewUpdate || viewActivate">
            <!-- <div class="row justify-content-between header">
                <div class="col-sm-6">
                    <ng-container *ngTemplateOutlet="title; context: {$implicit: moduleName }"></ng-container>
                </div>
                <div class="col-sm-6 text-right buttons">
                    <ng-container *ngTemplateOutlet="backButton;"></ng-container>
                </div>
            </div> -->
            <app-module-header [titleWithUserRole]="titleWithUserRole" [moduleName]="moduleName"
                (backButtonClicked)="back()"></app-module-header>
        </ng-container>

        <ng-container *ngIf="viewAll">
            <ng-container *ngTemplateOutlet="viewall;"></ng-container>
        </ng-container>

        <ng-container *ngIf="viewAdd">
            <ng-container *ngTemplateOutlet="viewadd;"></ng-container>
        </ng-container>

        <ng-container *ngIf="viewUpdate">
            <ng-container *ngTemplateOutlet="viewupdate;"></ng-container>
        </ng-container>

        <ng-container *ngIf="viewOne">
            <ng-container *ngTemplateOutlet="viewone;"></ng-container>
        </ng-container>

        <ng-container *ngIf="viewActivate">
            <ng-container *ngTemplateOutlet="viewactivate;"></ng-container>
        </ng-container>
    </div>
</div>
<!-- 

<ng-template #title let-headerTitle>
    <h1>{{userRole |titlecase}}'s {{headerTitle}}</h1>
</ng-template>

<ng-template #addButton>
    <button class="btn btn-primary" (click)="onAddClick()">Add</button>
</ng-template>

<ng-template #backButton>
    <button class="btn btn-primary" (click)="back()">Back</button>
</ng-template>

<ng-template #activateButton>
    <button class="btn btn-primary" (click)="onActivateClick()">Inactive</button>
</ng-template> -->

<ng-template #viewall>
    <app-view-allupload *ngIf="allData.length>0" [data]="{moduleData:this.allData , columnNames:this.columnNames}"
        [dropdown]="{courses,modules}" [idsColumnName]="{columnName:primaryIdColumnName}" [isViewAllScreen]="true"
        (viewClicked)="onChildViewClick($event)" (updateClicked)="onChildUpdateClick($event)"
        (deleteClicked)="onChildDeleteClick($event)"
        [buttons]="{updateButton:buttonsArray.showUpdateButton, deleteButton:buttonsArray.showDeleteButton}">

    </app-view-allupload>
    <div *ngIf="allData.length==0">
        <h3>No Modules File Content</h3>
    </div>

</ng-template>

<ng-template #viewactivate>
    <app-view-allupload *ngIf="allInActiveData.length>0" [dropdown]="{courses,modules}"
        [data]="{moduleData:this.allInActiveData , columnNames:this.columnNames}" [dropdown]="{courses,modules}"
        [idsColumnName]="{columnName:primaryIdColumnName}" [isActivateScreen]="true"
        (activateClicked)="onChildActivateClick($event)">

    </app-view-allupload>
    <div *ngIf="allInActiveData.length==0">
        <h3>No Inactive Modules content</h3>
    </div>
</ng-template>


<ng-template #viewadd>

    <app-add-updateupload [data]="{currentData:emptyModuleFile , columnNames:allColumnNames}"
        [dropdown]="{courses,modules}" (submitClicked)="onAddModuleSubmit($event)"
        (sentFileData)="onRecievedFiles($event);"></app-add-updateupload>
</ng-template>

<ng-template #viewone>

    <app-view-oneupload [data]="{currentData:currentData , columnNames:viewColumnNames}"
        [dropdown]="{courses,modules}"></app-view-oneupload>



    <video controls>
        <source src="{{displayUrl}}/{{currentData.moduleFileId}}" (click)="display(currentData.moduleFileId)"
            style="width: 250px;height: 250px;">
    </video>


</ng-template>

<ng-template #viewupdate>
    <app-add-updateupload [data]="{currentData:currentData , columnNames:updateColumnNames}"
        [dropdown]="{courses,modules}" (submitClicked)="onUpdateModuleSubmit($event)"
        (sentFileData)="onRecievedFiles($event);"></app-add-updateupload>

    <video controls>
        <source src="{{displayUrl}}/{{currentData.moduleFileId}}" (click)="display(currentData.moduleFileId)">
    </video>

    {{currentData.moduleFile}}
</ng-template>