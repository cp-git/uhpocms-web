<ng-container *ngIf="pagination">
    <ng-container *ngFor="let queAns of questionAnswers | paginate: { itemsPerPage: 1, currentPage: currentPage }">
        <ng-container *ngTemplateOutlet="form; context: {$implicit: queAns, index:currentPage }"></ng-container>
    </ng-container>
</ng-container>

<ng-container *ngIf="!pagination">
    <ng-container *ngFor="let queAns of questionAnswers;let i= index">
        <ng-container *ngTemplateOutlet="form; context: {$implicit: queAns,index:i+1 }"></ng-container>
    </ng-container>
</ng-container>


<ng-container *ngIf="pagination">
    <div class="text-center"
        *ngIf="selectedQuizId!='undefined' && selectedQuizId!='' && selectedQuizId!=null && selectedCategoryId!='undefined'  && selectedCategoryId!='' && selectedCategoryId!=null">
        <pagination-controls (pageChange)="currentPage=$event"></pagination-controls>
    </div>
</ng-container>

<ng-template #form let-queAns let-index="index">
    <form #myForm="ngForm" (ngSubmit)="onFormSubmit(queAns)">
        <div class="jumbotron">
            <h4>Question : {{ index }}</h4>
            <div class="img">
                <img *ngIf="imageUrl" [src]="imageUrl" style="max-width: 350px;">
            </div>
            <div class="form-group row">
                <div class="col-sm-6">
                    <label class="float-label">Figure</label>
                    <input name="queFigure{{index}}" type="file" [(ngModel)]="queAns['questionFigure']"
                        class="form-control" [disabled]="disable" (change)="onFileSelected($event)">
                </div>
                <div class="col-sm-6">
                    <label class="float-label">Order Number</label>
                    <input name="queOrderNo{{index}}" type="number" [(ngModel)]="queAns['questionOrderNo']"
                        class="form-control" required="" [disabled]="disable">
                </div>
            </div>
            <label class="float-label">Question</label>
            <input name="queContent{{index}}" type="text" [(ngModel)]="queAns['questionContent']" class="form-control"
                required="" [disabled]="disable">
            <label class="float-label">Explanation</label>
            <textarea name="queExplanation{{index}}" [(ngModel)]="queAns['questionExplanation']" class="form-control"
                required="" [disabled]="disable"></textarea>

            <label class="float-label">Answer</label>
            <div *ngIf="selectedCategoryName == 'MCQ' ;else otherCategory">
                <!-- MCQ answer input area code goes here -->
                <!-- <input name=" queFigure" type="text" class="form-control" required=""> -->
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="queAnswer" id="option1" value="option1">
                    <label class="form-check-label" for="option1">
                        <input type="text" name="ansContent{{index}}" [(ngModel)]="mcqAnswer['option1']"
                            class="form-control" placeholder="Option 1 content" required="" style="width: 510px;">

                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="queAnswer" id="option2" value="option2">
                    <label class="form-check-label" for="option2">
                        <input name="ansContent{{index}}" [(ngModel)]="mcqAnswer['option2']" class="form-control"
                            placeholder="Option 2 content" style="width: 510px;" required="">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="queAnswer" id="option3" value="option3">
                    <label class="form-check-label" for="option3">
                        <input name="ansContent{{index}}" [(ngModel)]="mcqAnswer['option4']" class="form-control"
                            style="width: 510px;" placeholder="Option 3 content" required="">
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="queAnswer" id="option4" value="option4">
                    <label class="form-check-label" for="option4">
                        <input name="ansContent{{index}}" [(ngModel)]="mcqAnswer['option4']" class="form-control"
                            style="width: 510px;" placeholder="Option 4 content" required="">
                    </label>
                </div>
            </div>
            <ng-template #otherCategory>
                <textarea name="ansContent{{index}}" [(ngModel)]="queAns['content']" class="form-control" required=""
                    [disabled]="disable"></textarea>
            </ng-template>

            <!-- <label class="float-label"> Correct</label>
                        <input name="ansCorrect" type="checkbox" [(ngModel)]="answer.correct"
                            class="form-control" required=""> -->
            <div class="text-center" *ngIf="selectedQuizId && pagination && submitOption">
                <button class="btn submitbutton" type="submit" [disabled]="!myForm.valid">Submit</button>
            </div>
        </div>
    </form>
</ng-template>



{{selectedCategoryName}}